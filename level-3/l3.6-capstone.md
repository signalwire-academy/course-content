---
layout: default
title: "Lab L3.6: Capstone Project"
parent: "Level 3: Advanced"
nav_order: 26
---

# Lab L3.6: Capstone Project

<p style="background: #e7f3fe; border-left: 4px solid #2196F3; padding: 15px; margin: 20px 0;">
<strong>ðŸŽ¯ Assignment:</strong> <a href="https://classroom.github.com/a/o-JSm5MQ" target="_blank"><strong>Accept this lab on GitHub Classroom</strong></a><br>
<small>You'll get your own repository with starter code, instructions, and automatic grading.</small>
</p>

| | |
|--|--|
| **Duration** | 180 minutes |
| **Prerequisites** | Previous module completed |

## Objectives

- Design complete multi-agent system
- Implement all Level 3 concepts
- Deploy production-ready solution

---

## How to Complete This Lab

1. **Accept the Assignment** â€” Click the GitHub Classroom link above
2. **Clone Your Repo** â€” `git clone <your-repo-url>` 
3. **Read the README** â€” Your repo has detailed requirements and grading criteria
4. **Write Your Code** â€” Implement the solution in `solution/agent.py`
5. **Test Locally** â€” Use `swaig-test` to verify your agent works
6. **Push to Submit** â€” `git push` triggers auto-grading

---

## Key Concepts

The following exercises walk through the concepts you'll need. Your GitHub Classroom repo README has the specific requirements for grading.



---

## Complete Agent Code

{::nomarkdown}
<details>
<summary>Click to reveal complete solution</summary>
{:/}

```python
#!/usr/bin/env python3
"""Main entry point for enterprise contact center.

Capstone Deliverable: Multi-agent server setup.
"""

import os
from datetime import datetime
from signalwire_agents import AgentServer

from agents.gateway_agent import GatewayAgent
from agents.orders_agent import OrdersAgent
from agents.support_agent import SupportAgent
from shared.logging_config import get_logger
from shared.metrics import start_metrics_server

logger = get_logger("main")


def create_server():
    """Create multi-agent server with health endpoints."""
    host = os.getenv("HOST", "0.0.0.0")
    port = int(os.getenv("PORT", "3000"))
    metrics_port = int(os.getenv("METRICS_PORT", "9090"))

    logger.info(f"Starting server on {host}:{port}")

    # Start metrics server
    if start_metrics_server(metrics_port):
        logger.info(f"Metrics server on port {metrics_port}")

    # Create server and register agents
    server = AgentServer(host=host, port=port)
    server.register(GatewayAgent())
    server.register(OrdersAgent())
    server.register(SupportAgent())

    # Health endpoint
    @server.app.get("/health")
    async def health():
        return {
            "status": "healthy",
            "timestamp": datetime.utcnow().isoformat(),
            "agents": ["gateway", "orders", "support"],
            "version": os.getenv("APP_VERSION", "1.0.0")
        }

    @server.app.get("/ready")
    async def ready():
        return {"ready": True}

    logger.info("All agents registered")
    return server


if __name__ == "__main__":
    server = create_server()
    server.run()
```

{::nomarkdown}
</details>
{:/}

---

**Next:** [Level 3 Written Assessment](a3-written-exam)
